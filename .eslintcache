[{"/home/duong/Programming/CNPM/eshop/src/index.js":"1","/home/duong/Programming/CNPM/eshop/src/App.js":"2","/home/duong/Programming/CNPM/eshop/src/reportWebVitals.js":"3","/home/duong/Programming/CNPM/eshop/src/reducers/index.js":"4","/home/duong/Programming/CNPM/eshop/src/routes.js":"5","/home/duong/Programming/CNPM/eshop/src/reducers/token.js":"6","/home/duong/Programming/CNPM/eshop/src/components/Menu/Menu.js":"7","/home/duong/Programming/CNPM/eshop/src/pages/NotFound/NotFound.js":"8","/home/duong/Programming/CNPM/eshop/src/pages/Home/Home.js":"9","/home/duong/Programming/CNPM/eshop/src/pages/Search/Search.js":"10","/home/duong/Programming/CNPM/eshop/src/pages/Cart/Cart.js":"11","/home/duong/Programming/CNPM/eshop/src/pages/Product/Product.js":"12","/home/duong/Programming/CNPM/eshop/src/pages/Login/Login.js":"13","/home/duong/Programming/CNPM/eshop/src/pages/Checkout/Checkout.js":"14","/home/duong/Programming/CNPM/eshop/src/pages/Register/Register.js":"15","/home/duong/Programming/CNPM/eshop/src/pages/Info/Info.js":"16","/home/duong/Programming/CNPM/eshop/src/components/CatergoryItem/CategoryItem.js":"17","/home/duong/Programming/CNPM/eshop/src/components/Alert/Alert.js":"18","/home/duong/Programming/CNPM/eshop/src/utils/apiCaller.js":"19","/home/duong/Programming/CNPM/eshop/src/constants/Config.js":"20"},{"size":840,"mtime":1610035828570,"results":"21","hashOfConfig":"22"},{"size":878,"mtime":1610035828570,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1609330945214,"results":"24","hashOfConfig":"22"},{"size":233,"mtime":1610035828570,"results":"25","hashOfConfig":"22"},{"size":1135,"mtime":1610035828570,"results":"26","hashOfConfig":"22"},{"size":243,"mtime":1610035828570,"results":"27","hashOfConfig":"22"},{"size":2013,"mtime":1610035828570,"results":"28","hashOfConfig":"22"},{"size":488,"mtime":1609330945214,"results":"29","hashOfConfig":"22"},{"size":1817,"mtime":1610035828570,"results":"30","hashOfConfig":"22"},{"size":149,"mtime":1610035828570,"results":"31","hashOfConfig":"22"},{"size":143,"mtime":1610035828570,"results":"32","hashOfConfig":"22"},{"size":151,"mtime":1610037160800,"results":"33","hashOfConfig":"22"},{"size":2609,"mtime":1610035828570,"results":"34","hashOfConfig":"22"},{"size":10290,"mtime":1610036738985,"results":"35","hashOfConfig":"22"},{"size":2917,"mtime":1609330945214,"results":"36","hashOfConfig":"22"},{"size":9080,"mtime":1610037998252,"results":"37","hashOfConfig":"22"},{"size":392,"mtime":1609330945210,"results":"38","hashOfConfig":"22"},{"size":180,"mtime":1609330945210,"results":"39","hashOfConfig":"22"},{"size":299,"mtime":1609946985217,"results":"40","hashOfConfig":"22"},{"size":48,"mtime":1609330945214,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"d4zy05",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"/home/duong/Programming/CNPM/eshop/src/index.js",[],["85","86"],"/home/duong/Programming/CNPM/eshop/src/App.js",[],"/home/duong/Programming/CNPM/eshop/src/reportWebVitals.js",[],"/home/duong/Programming/CNPM/eshop/src/reducers/index.js",[],"/home/duong/Programming/CNPM/eshop/src/routes.js",[],"/home/duong/Programming/CNPM/eshop/src/reducers/token.js",[],"/home/duong/Programming/CNPM/eshop/src/components/Menu/Menu.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/NotFound/NotFound.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Home/Home.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Search/Search.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Cart/Cart.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Product/Product.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Login/Login.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Checkout/Checkout.js",["87","88","89","90"],"import React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'font-awesome/css/font-awesome.min.css'\nimport \"./Checkout.css\"\nimport callAPI from \"../../utils/apiCaller\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faShippingFast, faAddressCard, faMapMarkedAlt, faMobileAlt, faAt\n, faMoneyBillAlt, faCreditCard, faWallet} from '@fortawesome/free-solid-svg-icons'\nimport token from \"../../reducers/token\";\n\n\nclass Checkout extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      products: [],\n      userInfo: [],\n      productList: [],\n      payment: \"cash\",\n      totalPrice: 0,\n      token: \"\",\n    };\n  }\n\n  getUserInfo = () => {\n    if (this.state.token) {\n    console.log(this.state.token);\n    callAPI(\"/checkout/getUserInfo\", \"GET\", null, this.state.token)\n      .then((res) => {\n        console.log(res.data);\n\n        let info = res.data[0];\n        console.log(this.state.userInfo)\n        let realInfo = {\n          id: info.id,\n          name: info.name,\n          email: info.email,\n          phone: info.phone,\n          address: info.street + \", \" + info.ward + \", \" + info.district + \", \" + info.city,\n        }\n\n        this.setState({ userInfo: realInfo });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    }\n  };\n\n  getProducts = () => {\n    if (this.state.token) {\n    console.log(this.state.token);\n    callAPI(\"/checkout/getProducts\", \"GET\", null, this.state.token)\n      .then((res) => {\n        let total = 0;\n        this.setState({productList: res.data});\n        let product_groups = res.data.reduce( (acc, p) => {\n          acc[p.store_id] = acc[p.store_id] || [];\n          acc[p.store_id].push(p);\n          total += p.price;\n          return acc;\n        }, {});\n    \n        let packages_ = Object.values(product_groups).map((group, i) => (\n          {\n            id: i,\n            agencyName: \"Giao Hang tiet kiem\",\n            arriveDate: \"22/5/2020\",\n            price: 200000,\n            productList: group\n          }\n        ));\n\n        this.setState({ products: packages_ , totalPrice: total});\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    }\n  };\n\n  sendOrder = () =>\n  {\n    let order = {};\n    order[\"orderInfo\"] = {\n      transport: 0,\n      status: 1,\n      payment: this.state.payment,\n      user_id: this.state.userInfo.id,\n      totalprice: this.state.totalPrice\n    }\n\n    order[\"products\"] = this.state.productList;\n\n    console.log(order);\n\n    if (this.state.token) {\n      callAPI(\"/checkout/insertOder\", \"POST\", order, this.state.token)\n        .then((res) => {console.log(\"add oder successful\")})\n        .catch((e) => {console.log(e);})\n    }\n\n    let data = {};\n    data[\"productids\"] = this.state.productList.map(p => p.id);\n\n    \n\n    //delete old products from cart\n    if (this.state.token) {\n      callAPI(\"/info/deleteCartCheckout\", \"POST\", data, this.state.token)\n        .then((res) => {console.log(\"add oder successful\")})\n        .catch((e) => {console.log(e);})\n    }\n\n  }\n\n  handleChangePayment = (e) =>\n  {\n    this.setState({payment: e.target.value});\n    console.log(this.state.payment);\n  }\n\n\n  getCheckoutData = () => {\n    this.getProducts();\n    this.getUserInfo();\n  }\n\n  componentWillMount = () => {\n    let token_ = localStorage.getItem(\"token\");\n\n    this.setState({ token: token_ }, () => {this.getCheckoutData()});\n  };\n\n\n\n  render() {\n    const reciver = this.state.userInfo;\n    let allProduct = []\n    let sumShipPrice = 0\n    let sumPrice = 0\n\n    let packageComponet = this.state.products.map((pack) => (\n      sumShipPrice += pack.price,\n      <div class=\"container ml-2 mr-1 my-2 border\">\n            <div class=\"d-flex flex-row\">\n                <div class=\"pt-1 pb-1 pl-2\">\n                    <FontAwesomeIcon icon={faShippingFast} size=\"lg\" color=\"green\"/>\n                </div>\n                <div class=\"pt-1 pb-1 pl-1\">\n                    <h5>{pack.agencyName}</h5>\n                </div>\n                <div class=\"pt-1 pb-1 pl-4\">\n                    <a href=\"url\"><small>Thay doi</small></a>\n                </div>\n            </div>\n            <div class=\"row ml-4\" style={{ height: \"20px\"}}>\n              <p class=\"font-weight-bold text-success\">Nhan hang vao ngay {pack.arriveDate}</p>\n            </div>\n            <div class=\"row ml-4\">\n              <ul>\n                  {pack.productList.map((product)=> (\n                    allProduct.push(product),\n                    <li>{product.size}x {product.name}</li>)\n                  )}\n              </ul>\n            </div>\n\n            <div class=\"row ml-4\">\n              <h6 className=\"mr-5\">Phi:</h6>\n              <h6>{pack.price}<small>d</small></h6>\n            </div>\n        </div>\n    ))\n\n\n    let reciverInfo = (\n      <div class=\"container my-2\"style={{backgroundColor:\"white\"}}>\n        <div class=\"d-flex flex-row\">\n            <div class=\"p-2\"><strong>Thong tin nguoi nhan</strong></div>\n            <a href=\"url\" class=\"ml-auto p-2\"><small>Thay doi</small></a>\n         </div>\n        <div class=\"row ml-2 d-flex align-items-center\">\n          <FontAwesomeIcon icon={faAddressCard} size=\"1.5x\" color=\"green\"/>\n          <h class=\"ml-2 align-middle\">{reciver.name}</h>\n        </div>\n        <div class=\"row ml-2 d-flex align-items-center\">\n          <FontAwesomeIcon icon={faMapMarkedAlt} size=\"1.5x\" color=\"green\"/>\n          <h class=\"ml-2 align-middle\">{reciver.address}</h>\n        </div>\n        <div class=\"row ml-2 d-flex align-items-center pl-1\">\n          <FontAwesomeIcon icon={faMobileAlt} size=\"1.5x\" color=\"green\"/>\n          <h class=\"ml-2 pl-1 align-middle\">{reciver.phone}</h>\n        </div>\n        <div class=\"row ml-2 d-flex align-items-center\">\n          <FontAwesomeIcon icon={faAt} size=\"1.5x\" color=\"green\"/>\n          <h class=\"ml-2 align-middle\">{reciver.email}</h>\n        </div>\n      </div>\n    )\n\n\n    const checkForm = (\n      <div class=\"row mt-3\" style={{backgroundColor:\"white\"}}>\n        <div class=\"col\">\n          <div class=\"form-check form-control-lg alight-middle\">\n            <input class=\"form-check-input\" type=\"radio\" onClick={this.handleChangePayment} name=\"paymentMethod\" \n            id=\"cash\" value=\"cash\" checked></input>\n            <FontAwesomeIcon icon={faMoneyBillAlt} size=\"1.5x\"/>\n            <label class=\"form-check-label ml-2\" for=\"cash\">\n              Thanh toan tien mat\n            </label>\n          </div>\n\n          <div class=\"form-check form-control-lg\">\n            <input class=\"form-check-input\" type=\"radio\" onClick={this.handleChangePayment} name=\"paymentMethod\" id=\"visa\" value=\"visa\"></input>\n            <i class=\"fa fa-cc-visa\" aria-hidden=\"true\"></i>\n            <label class=\"form-check-label pl-2\" for=\"visa\">\n              Thanh toan bang the Visa, the tin dung quoc te\n            </label>\n          </div>   \n\n            <div class=\"form-check form-control-lg\">\n            <input class=\"form-check-input\" type=\"radio\" onClick={this.handleChangePayment} name=\"paymentMethod\" id=\"atm\" value=\"atm\"></input>\n            <FontAwesomeIcon icon={faCreditCard} size=\"1.5x\" />\n            <label class=\"form-check-label pl-2\" for=\"visa\">\n              Thanh toan the ATM the noi dia\n            </label>\n          </div>   \n\n            <div class=\"form-check form-control-lg\">\n            <input class=\"form-check-input\" type=\"radio\" onClick={this.handleChangePayment} name=\"paymentMethod\" id=\"momo\" value=\"momo\"></input>\n            <FontAwesomeIcon icon={faWallet} size=\"1.5x\" />\n            <label class=\"form-check-label pl-2\" for=\"visa\">\n              Thanh toan bang vi dien tu Momo\n            </label>\n          </div>                \n        </div>\n      </div>\n    )\n\n    const billCofirm = (\n      <div class=\"col-md pb-2 mt-3\" style={{backgroundColor:\"white\"}}>\n        <div class=\"d-flex flex-row\">\n            <div class=\"p-2\"><strong>Thong tin don hang</strong></div>\n            <a href=\"url\" class=\"ml-auto p-2\"><small>Thay doi</small></a>\n         </div>\n\n         {allProduct.map((product)=> (\n           sumPrice += product.price*product.size,\n            <div class=\"d-flex bd-highlight mr-1\">\n              <div class=\"pl-4 flex-grow-1 bd-highlight\"><small>{product.size}x {product.name}</small></div>\n              <div class=\"bd-highlight\"><small>{product.price*product.size} d</small></div>              \n            </div>\n              )\n          )}\n\n          <div class=\"d-flex bd-highlight ml-4 mt-3 mb-1 mr-2\">\n            <div class=\"flex-grow-1 bd-highlight\">Phi san pham</div>\n            <div class=\"bd-highlight\"><strong>{sumPrice}</strong> d</div>\n          </div>\n          <div class=\"d-flex bd-highlight ml-4 mt-1 mr-2\">\n            <div class=\"flex-grow-1 bd-highlight\">Phi van chuyen</div>\n            <div class=\"bd-highlight\"><strong>{sumShipPrice}</strong> d</div>\n          </div>\n\n          <div class=\"input-group mt-2 ml-4\" style={{width:\"90%\"}}>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Ma giam gia\" aria-label=\"Ma giam gia\" aria-describedby=\"basic-addon2\"></input>\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-success\" type=\"button\">Ap dung</button>\n            </div>\n          </div>\n\n          <h4 class=\"mt-3\">Thanh tien</h4>\n          <h3 class=\"text-center\" style={{color:\"red\", fontSize:\"30px\", fontWeight:\"bold\"}}>{sumShipPrice+sumPrice} d</h3>\n          \n          <div class=\"col text-center mt-2\">\n            <button type=\"button\" class=\"btn btn-danger btn-lg\" onClick={this.sendOrder} style={{width:\"70%\", textAlign:\"center\"}}>Thanh toan</button>\n          </div>\n          \n      </div>\n    )\n\n    return (\n      <div className=\"container-fluid\"  style={{backgroundColor:\"#d9d9d9\"}}>\n        <div class=\"row\">\n          <div class=\"col-md-7 m-3 ml-5\">\n            <div class=\"row pl-2 pt-2\" style={{backgroundColor:\"white\"}}>\n              <h4><strong>Chon hinh thuc giao hang</strong></h4>\n              {packageComponet}\n            </div>\n            {checkForm}\n\n          </div>\n\n          <div class=\"col-md pt-2\">\n              {reciverInfo}\n              {billCofirm}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Checkout;\n","/home/duong/Programming/CNPM/eshop/src/pages/Register/Register.js",[],"/home/duong/Programming/CNPM/eshop/src/pages/Info/Info.js",["91","92","93","94","95","96","97","98","99","100"],"/home/duong/Programming/CNPM/eshop/src/components/CatergoryItem/CategoryItem.js",[],"/home/duong/Programming/CNPM/eshop/src/components/Alert/Alert.js",[],"/home/duong/Programming/CNPM/eshop/src/utils/apiCaller.js",[],"/home/duong/Programming/CNPM/eshop/src/constants/Config.js",[],["101","102"],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":9,"column":8,"nodeType":"109","messageId":"110","endLine":9,"endColumn":13},{"ruleId":"111","severity":1,"message":"112","line":144,"column":33,"nodeType":"113","messageId":"114","endLine":144,"endColumn":34},{"ruleId":"111","severity":1,"message":"112","line":163,"column":45,"nodeType":"113","messageId":"114","endLine":163,"endColumn":46},{"ruleId":"111","severity":1,"message":"112","line":250,"column":50,"nodeType":"113","messageId":"114","endLine":250,"endColumn":51},{"ruleId":"107","severity":1,"message":"115","line":1,"column":28,"nodeType":"109","messageId":"110","endLine":1,"endColumn":36},{"ruleId":"107","severity":1,"message":"116","line":11,"column":10,"nodeType":"109","messageId":"110","endLine":11,"endColumn":19},{"ruleId":"107","severity":1,"message":"117","line":11,"column":21,"nodeType":"109","messageId":"110","endLine":11,"endColumn":27},{"ruleId":"107","severity":1,"message":"118","line":11,"column":29,"nodeType":"109","messageId":"110","endLine":11,"endColumn":40},{"ruleId":"107","severity":1,"message":"119","line":11,"column":42,"nodeType":"109","messageId":"110","endLine":11,"endColumn":46},{"ruleId":"107","severity":1,"message":"120","line":11,"column":48,"nodeType":"109","messageId":"110","endLine":11,"endColumn":60},{"ruleId":"107","severity":1,"message":"121","line":126,"column":11,"nodeType":"109","messageId":"110","endLine":126,"endColumn":19},{"ruleId":"107","severity":1,"message":"122","line":126,"column":21,"nodeType":"109","messageId":"110","endLine":126,"endColumn":24},{"ruleId":"107","severity":1,"message":"123","line":126,"column":26,"nodeType":"109","messageId":"110","endLine":126,"endColumn":29},{"ruleId":"107","severity":1,"message":"124","line":133,"column":9,"nodeType":"109","messageId":"110","endLine":133,"endColumn":13},{"ruleId":"103","replacedBy":"125"},{"ruleId":"105","replacedBy":"126"},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"no-unused-vars","'token' is defined but never used.","Identifier","unusedVar","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'useState' is defined but never used.","'FormGroup' is defined but never used.","'Button' is defined but never used.","'FormControl' is defined but never used.","'Form' is defined but never used.","'ControlLabel' is defined but never used.","'username' is assigned a value but never used.","'iat' is assigned a value but never used.","'exp' is assigned a value but never used.","'sexs' is assigned a value but never used.",["127"],["128"],"no-global-assign","no-unsafe-negation"]